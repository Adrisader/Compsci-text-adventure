
/**
 * Write a description of class Dor here.
 * 
 * @author (your name) 
 * @version (a version number or a date)
 */

import java.util.ArrayList;

public class Table extends MapElement
{
    private ArrayList<MapElement> onTable = new ArrayList<MapElement>();
    private static String name = "table";
    private String specialName;
    
    public Table(Material type, String specialName) {
        super(type,false,false);
        
        String[] tempActionList = {"break"};
        setActionList(tempActionList);
        
        setSpecialName(specialName);
    }
    
    public Table() {
        super(new Material("wood"),false,false);
        
        String[] tempActionList = {"break"};
        setActionList(tempActionList);
    }
    
    public void use(String action) {
        int index = actionIndexOf(action);
        switch(index) {
            case -1:
                // should there be something here?
                break;
            case 0:
                smash();
                break;
        }
    }   
    
    public void use(String action, MapElement tool) {
        int index = actionIndexOf(action);
        switch(index) {
            case -1:
                // should there be something here?
                break;
            case 0:
                smash(tool);
                break;
        }
    }    
    
    public void smash() {
        if (getType().getStrength() < 10) {
            destroy();
            System.out.print("You smash the table with your fists.");
        }
    }
    
    public void smash(MapElement item) {
        if (getType().getStrength() < item.getType().getStrength()) {
            destroy();
            System.out.print("You smash the table with " + item + ".");
        }
        else {
            System.out.print("you try to smash the table with " + item + ", but the table won't break.");
        }
    }
    
    public String getName() {
        return name;
    }
    
    public String toString() {  
        String rString = super.toString() + "\nItems on table: ";
        for (int i = 0; i < onTable.size(); i++) {
            rString += onTable.get(i) + ", ";
        }
        return rString.substring(rString.length()-2);
    }
}
